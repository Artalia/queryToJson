<!DOCTYPE html>
<html>
<head>
	<title></title>
	<style type="text/css">
		input{
		    height: 40px;
		    font-size: 18px;
		    border-radius: 5px;
		    border-color: #757575;
		}

		code{
			padding: 7px;
		    margin: 7px;
		    display: block;
		    font-size: 15px;
			line-height: 23px;
			font-style: oblique;
		}
	</style>
</head>
<body>
	<code id="display">Parsed url shows here</code>
	<input type="" id="input">

	<script type="text/javascript">
		let inp= document.getElementById('input')
		inp.addEventListener('change', ()=>{
			console.log(inp.value.length)
			if(!(inp.value.length<=0)){
			document.querySelector('#display').innerText = JSON.stringify(queryToJson(inp.value))
			.replace(/,/g, ",\n\t\t")
			.replace(/{/g, "{\n")
			.replace(/}/g, "\n}")
			console.log(inp.value)
			}else{
				document.querySelector('#display').innerText = "Parsed url shows here";
			}

		});
		function queryToJson(link){
			if(link){
				link = link.substring(link.indexOf('?')+1)
				.replace(/=/g, ' : ')
				.replace(/&/g, ' , ')
				.split(' ')
			}else{
				link = location.search.substring(1)
				.replace(/=/g, ' : ')
				.replace(/&/g, ' , ')
				.split(' ');
			}

			link=link.map((a)=>{
				return (a==':' || a==',')? a: a = `\"${a}\"`;
			})
			link = decodeURIComponent(`{${link.join('')}}`);
			console.log(link);
			console.log(JSON.parse(link));
			try{
				return JSON.parse(link);
			}catch(errmsg){
				console.log("error", errmsg);
				return "error in url query string"
			}
		}
	</script>
</body>
</html>